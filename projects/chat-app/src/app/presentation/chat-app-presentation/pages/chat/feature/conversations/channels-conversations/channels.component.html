<section>
  <ul class="conversation-list">
    @if (!isChannelsFetching()) {
      @for (channel of channelsStore.channelsList(); track channel) {
        <li (click)="navigateToChannel(channel.id)" class="conversation-list__conversation-presentation">
          <ui-avatar-with-content>
            <img ui-avatar [src]="channel.image" (click)="updateChannel(channel)" />
            <div right-content class="text-wrapper">
              <span>{{ channel.name }}</span>
              <div class="text-wrapper__last-message-and-delivary-time">
                <p>{{ channel.last_message }}</p>
                <span>{{ channel.last_message_at | date: 'shortTime' }}</span>
              </div>
            </div>
          </ui-avatar-with-content>
        </li>
      }
    } @else {
      @for (_ of [].constructor(10); track _) {
        <li class="conversation-list__conversation-loader">
          <ui-skeleton-circle-and-bars />
        </li>
      }
    }
  </ul>
</section>
